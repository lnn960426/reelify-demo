# ---------- Server ----------
# Read port from platform (Render sets PORT). Use 8080 locally.
server.port=${PORT:8080}

# ---------- DataSource (read from environment variables; do not hardcode secrets) ----------
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}

# If you use JPA/Hibernate, uncomment the lines below. For pure JdbcTemplate, keep them commented.
# spring.jpa.hibernate.ddl-auto=update
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ---------- JWT (keep secrets in env vars) ----------
jwt.header=Authorization
jwt.base64-secret=${JWT_BASE64_SECRET}
jwt.secret=${JWT_SECRET:dev-secret-for-local}          # default for local; override in production
jwt.expiration=${JWT_EXPIRATION_SECONDS:604800}        # 7 days
jwt.token-validity-in-seconds=${JWT_TOKEN_VALIDITY:86400}
jwt.token-validity-in-seconds-for-remember-me=${JWT_TOKEN_VALIDITY_REMEMBER:108000}
jwt.route.authentication.path=/login
jwt.route.authentication.refresh=/refresh

# ---------- External APIs (e.g., TMDB) ----------
api-movie-database=https://api.themoviedb.org/3/
api-key=${TMDB_API_KEY:}
api-read-access-token=${TMDB_READ_TOKEN:}

# ---------- CORS (allow local dev; add your Vercel domain after frontend is deployed) ----------
spring.mvc.cors.allowed-origins=http://localhost:5173
spring.mvc.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.mvc.cors.allowed-headers=*
spring.mvc.cors.allow-credentials=true

# ---------- Error ----------
server.error.include-stacktrace=never
